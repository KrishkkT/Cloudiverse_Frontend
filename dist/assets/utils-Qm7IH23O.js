import{r as L,R}from"./vendor-DPWIDThu.js";const C=n=>typeof n=="number"&&!isNaN(n),v=n=>typeof n=="string",N=n=>typeof n=="function",H=n=>L.isValidElement(n)||v(n)||N(n)||C(n);function M(n,e,t){t===void 0&&(t=300);const{scrollHeight:o,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=o+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function $(n){let{enter:e,exit:t,appendPosition:o=!1,collapse:r=!0,collapseDuration:a=300}=n;return function(d){let{children:b,position:p,preventExitTransition:I,done:c,nodeRef:u,isIn:m,playToast:E}=d;const g=o?`${e}--${p}`:e,z=o?`${t}--${p}`:t,k=L.useRef(0);return L.useLayoutEffect(()=>{const s=u.current,f=g.split(" "),y=_=>{_.target===u.current&&(E(),s.removeEventListener("animationend",y),s.removeEventListener("animationcancel",y),k.current===0&&_.type!=="animationcancel"&&s.classList.remove(...f))};s.classList.add(...f),s.addEventListener("animationend",y),s.addEventListener("animationcancel",y)},[]),L.useEffect(()=>{const s=u.current,f=()=>{s.removeEventListener("animationend",f),r?M(s,c,a):c()};m||(I?f():(k.current=1,s.className+=` ${z}`,s.addEventListener("animationend",f)))},[m]),R.createElement(R.Fragment,null,b)}}const l=new Map;let A=[];const B=new Set,P=()=>l.size>0;function O(n,e){var t;if(e)return!((t=l.get(e))==null||!t.isToastActive(n));let o=!1;return l.forEach(r=>{r.isToastActive(n)&&(o=!0)}),o}function Q(n,e){H(n)&&(P()||A.push({content:n,options:e}),l.forEach(t=>{t.buildToast(n,e)}))}function F(n,e){l.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}let S=1;const q=()=>""+S++;function D(n){return n&&(v(n.toastId)||C(n.toastId))?n.toastId:q()}function h(n,e){return Q(n,e),e.toastId}function x(n,e){return{...e,type:e&&e.type||n,toastId:D(e)}}function T(n){return(e,t)=>h(e,x(n,t))}function i(n,e){return h(n,x("default",e))}i.loading=(n,e)=>h(n,x("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),i.promise=function(n,e,t){let o,{pending:r,error:a,success:d}=e;r&&(o=v(r)?i.loading(r,t):i.loading(r.render,{...t,...r}));const b={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(c,u,m)=>{if(u==null)return void i.dismiss(o);const E={type:c,...b,...t,data:m},g=v(u)?{render:u}:u;return o?i.update(o,{...E,...g}):i(g.render,{...E,...g}),m},I=N(n)?n():n;return I.then(c=>p("success",d,c)).catch(c=>p("error",a,c)),I},i.success=T("success"),i.info=T("info"),i.error=T("error"),i.warning=T("warning"),i.warn=i.warning,i.dark=(n,e)=>h(n,x("default",{theme:"dark",...e})),i.dismiss=function(n){(function(e){var t;if(P()){if(e==null||v(t=e)||C(t))l.forEach(o=>{o.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const o=l.get(e.containerId);o?o.removeToast(e.id):l.forEach(r=>{r.removeToast(e.id)})}}else A=A.filter(o=>e!=null&&o.options.toastId!==e)})(n)},i.clearWaitingQueue=function(n){n===void 0&&(n={}),l.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},i.isActive=O,i.update=function(n,e){e===void 0&&(e={});const t=((o,r)=>{var a;let{containerId:d}=r;return(a=l.get(d||1))==null?void 0:a.toasts.get(o)})(n,e);if(t){const{props:o,content:r}=t,a={delay:100,...o,...e,toastId:e.toastId||n,updateId:q()};a.toastId!==n&&(a.staleId=n);const d=a.render||r;delete a.render,h(d,a)}},i.done=n=>{i.update(n,{progress:1})},i.onChange=function(n){return B.add(n),()=>{B.delete(n)}},i.play=n=>F(!0,n),i.pause=n=>F(!1,n);const w=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}};$(w("bounce",!0));$(w("slide",!0));$(w("zoom"));$(w("flip"));export{i as B};
